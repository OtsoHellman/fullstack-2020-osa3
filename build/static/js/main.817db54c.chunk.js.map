{"version":3,"sources":["services/personService.js","components/PersonForm.js","components/Person.js","components/PersonList.js","components/Notification.js","App.js","index.js"],"names":["DB_URI","axios","get","then","response","data","personObject","post","id","delete","put","PersonForm","addPerson","newName","newNumber","handlePersonChange","handleNumberChange","onSubmit","value","onChange","type","name","number","deletePerson","onClick","window","confirm","PersonList","persons","filterValue","filter","person","toLowerCase","includes","map","Person","key","notificationStyle","isError","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","message","style","App","useState","setPersons","setFilterValue","setNewName","setNewNumber","content","notificationMessage","setNotificationMessage","useEffect","personService","event","target","preventDefault","find","catch","error","console","log","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.817db54c.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst DB_URI = '/api/persons'\n\nconst getAll = () => axios\n    .get(DB_URI)\n    .then(response => response.data)\n\nconst postPerson = (personObject) => axios\n    .post(DB_URI, personObject)\n    .then(response => response.data)\n\nconst deletePerson = (id) => axios\n    .delete(`${DB_URI}/${id}`)\n\nconst putPerson = (personObject) => axios\n    .put(`${DB_URI}/${personObject.id}`, personObject)\n    .then(response => response.data)\n\nexport default { getAll, postPerson, deletePerson, putPerson }","import React from 'react'\n\n\nconst PersonForm = ({addPerson, newName, newNumber, handlePersonChange, handleNumberChange}) => {\n\n    return (\n        <>\n        <h2>Add new</h2>\n        <form onSubmit={addPerson}>\n          <div>\n                name: <input\n              value={newName}\n              onChange={handlePersonChange} />\n          </div>\n          <div>\n                number: <input\n              value={newNumber}\n              onChange={handleNumberChange} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n        </>\n    )\n}\n\n\nexport default PersonForm","import React from 'react'\n\nexport default ({ name, number, deletePerson }) => <li>\n    {name} {number}\n    <button onClick={() => window.confirm(`Delete ${name}?`) && deletePerson()}>delete</button>\n</li >","import React from 'react'\nimport Person from './Person'\n\nconst PersonList = ({ persons, filterValue, deletePerson }) => {\n\n    return (\n        <ul>\n            {persons\n                .filter(person => person.name.toLowerCase().includes(filterValue.toLowerCase()))\n                .map(person => <Person key={person.name} name={person.name} number={person.number} deletePerson={() => deletePerson(person.id)} />)\n            }\n        </ul>\n    )\n}\n\nexport default PersonList\n","import React from 'react'\n\nconst notificationStyle = isError => ({\n  color: isError ? 'red' : 'green',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n})\n\nconst Notification = ({ message, isError }) => {\n  return (\n    <div style={notificationStyle(isError)}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/personService'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './components/PersonList'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filterValue, setFilterValue] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState({ content: null, type: null })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(data => setPersons(data))\n  }, [])\n\n  const handleFilterChange = (event) => setFilterValue(event.target.value)\n  const handlePersonChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} is already added in the phonebook, replace the old number with the new one?`)) {\n        const personObject = persons.find(person => person.name === newName)\n        personService\n          .putPerson({\n            ...personObject,\n            number: newNumber\n          })\n          .then(data => setPersons(persons.map(person => person.id === data.id ? data : person)))\n          .catch(error => {\n            console.log(error)\n            setNotificationMessage({\n              message: `Information of ${personObject.name} has already been removed from the server`,\n              isError: true\n            })\n            setTimeout(() => setNotificationMessage({ message: null, isError: null }), 2000)\n          })\n      }\n\n    } else {\n      personService\n        .postPerson({\n          name: newName,\n          number: newNumber\n        })\n        .then(data => {\n          setNotificationMessage({\n            message: `Added ${data.name}`, isError: false\n          })\n          setTimeout(() => setNotificationMessage({ message: null, isError: null }), 2000)\n          return data\n        })\n        .then(data => {\n          setPersons(persons.concat(data))\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const deletePerson = (id) => {\n    personService\n      .deletePerson(id)\n      .then(setPersons(persons.filter(person => person.id !== id)))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notificationMessage.message && <Notification message={notificationMessage.message} isError={notificationMessage.isError} />}\n      <div>\n        filter shown with: <input\n          value={filterValue}\n          onChange={handleFilterChange} />\n      </div>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handlePersonChange={handlePersonChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <PersonList persons={persons} filterValue={filterValue} deletePerson={(id) => (deletePerson(id))} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}